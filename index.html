<!DOCTYPE html>
<html>
<head>
  <title>Crystal Game</title>

  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">


</head>
<body>

  <div>
  	<div class="container">
  		<div class="row">
  			<div class="col-md-12">
  				<button id="start-button" type="button" class="btn">Start</button>
  			</div>
  		</div>
  	</div>
  	<div class="container">
  		<div class="row">
  			<div class="col-md-12">
  				<h1>Crystal Collector!</h1>
  			</div>
  		</div>
  	</div>
  	<div class="container">
  		<div class="row">
  			<div class="col-md-12">
  				<h2>Number to Guess: <span id="number-to-guess"></span></h2>
  			</div>
  		</div>

  	</div>
  	<div class="container">
  		<div class="row">
  			<div class="col-md-4">
  				<p>Wins: <span id="wins"></span></p>
  			</div>
  			<div class="col-md-4">
  				<p>Losses: <span id="losses"></span></p>
  			</div>
  			<div class="col-md-4">
  				<p>Score: <span id="score"></span></p>
  			</div>
  		</div>
  	</div>

  	<div id="crystals" class="container"></div>

  	<!-- jQuery library -->
  	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	
  	<script type="text/javascript">
  	
  	$(document).ready(function() {	
  	
  	$("#start-button").on("click", function() {
  		console.log("start");
  		startGame();
  		var losses = 0;
  	})

  	var targetNumber = null;

  	var wins = 0;
  	
  	var losses = 0;
  	
  	var counter = 0;

  	var imageCrystal = 0;

  	var i = 0;
  	
  	var numberOptions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];


  	var randomValue= function(){
  	return numberOptions[Math.floor(Math.random()*numberOptions.length)]}

  	console.log("randomValue:",randomValue());

  	$("crystals").empty();

  	for (var i = 0; i < 4; i++) {
  	
  		imageCrystal = $("<img>")
  			.addClass("crystal-image")
  			.attr("src", "http://via.placeholder.com/350x150")
  			.attr("data-crystalvalue", randomValue());
  	
  		$("#crystals").append(imageCrystal);
  	}
  	
  	function startGame() {
  		targetNumber = Math.floor((Math.random() * 101) + 19);
  		counter = 0;
  		
  		console.log(targetNumber + "target Number");
  	$("#number-to-guess").text(targetNumber);
  	

  	}
  	
  	$("body").on("click", ".crystal-image", function() {
  	
  		var crystalValue = ($(this).attr("data-crystalvalue"));
  		crystalValue = parseInt(crystalValue);
  		console.log(crystalValue + "crystal value");
  		counter += crystalValue;
  		console.log(counter + "counter");
  		
  		$("#score").text(counter);
  	
  		console.log(counter);

  		if (counter === targetNumber) {
  	  
  	    wins++
  	    $("#wins").text(wins);
  	      alert("you win");
  	      startGame();
  	  }
  	
  	  else if (counter >= targetNumber) {
  		
  		losses++
  		$("#losses").text(losses);
  	  	alert("you lose");
  	  	startGame();
  	  	
  	  }
 	});
  	  
  	})
  	

  	</script>
  </div>
</body>
</html>